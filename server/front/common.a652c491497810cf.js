"use strict";(self.webpackChunkorder_app_redesign=self.webpackChunkorder_app_redesign||[]).push([[592],{7091:(_,d,o)=>{o.d(d,{N0:()=>i});var s=o(241);const a=new s.OlP("JWT_OPTIONS");let i=(()=>{class u{constructor(t=null){this.tokenGetter=t&&t.tokenGetter||function(){}}urlBase64Decode(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(e)}b64decode(t){let r="";if((t=String(t).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(let h,l,c=0,g=0;l=t.charAt(g++);~l&&(h=c%4?64*h+l:l,c++%4)?r+=String.fromCharCode(255&h>>(-2*c&6)):0)l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(l);return r}b64DecodeUnicode(t){return decodeURIComponent(Array.prototype.map.call(this.b64decode(t),e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join(""))}decodeToken(t=this.tokenGetter()){if(!t||""===t)return null;const e=t.split(".");if(3!==e.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");const r=this.urlBase64Decode(e[1]);if(!r)throw new Error("Cannot decode the token.");return JSON.parse(r)}getTokenExpirationDate(t=this.tokenGetter()){let e;if(e=this.decodeToken(t),!e||!e.hasOwnProperty("exp"))return null;const r=new Date(0);return r.setUTCSeconds(e.exp),r}isTokenExpired(t=this.tokenGetter(),e){if(!t||""===t)return!0;const r=this.getTokenExpirationDate(t);return e=e||0,null!==r&&!(r.valueOf()>(new Date).valueOf()+1e3*e)}getAuthScheme(t,e){return"function"==typeof t?t(e):t}}return u.\u0275fac=function(t){return new(t||u)(s.LFG(a))},u.\u0275prov=s.Yz7({token:u,factory:u.\u0275fac}),u})()},4122:(_,d,o)=>{o.d(d,{Y:()=>s});class s{constructor(){this._subs=[]}add(...i){this._subs=this._subs.concat(i)}set sink(i){this._subs.push(i)}unsubscribe(){this._subs.forEach(i=>i&&i.unsubscribe()),this._subs=[]}}},6821:(_,d,o)=>{o.d(d,{K:()=>u});var s=o(3543),a=o(1251),i=o(7396),p=o(241),f=o(4522);let u=(()=>{class n{constructor(e){this._http=e,this.userSubject=new i.x,this.userSubjectChange=this.userSubject.asObservable(),this._user=null}set user(e){this._user=e,localStorage.setItem(s.$.FOOD_ORDERING_CURRENT_USER,JSON.stringify(this._user)),this.userSubject.next(this._user)}get user(){return this._user||(this._user=JSON.parse(localStorage.getItem(s.$.FOOD_ORDERING_CURRENT_USER))),this._user}removeUser(){localStorage.removeItem(s.$.FOOD_ORDERING_AUTH_TOKEN),localStorage.removeItem(s.$.FOOD_ORDERING_CURRENT_USER),this._user=null}getAllUsers(){return this._http.get(a.N.api_url+"/users")}getUserById(e){return this._http.get(a.N.api_url+"/orders")}getById(e){return this._http.get(a.N.api_url+`/users/${e}`)}getByEmail(e){return this._http.get(a.N.api_url+`/users/${e}`)}updateOne(e){return this._http.put(a.N.api_url+"/users/",e)}updateSubscriptionId(e,r){return this._http.put(a.N.api_url+`/users/update-subscription-id/${e}/${r}`,null)}}return n.\u0275fac=function(e){return new(e||n)(p.LFG(f.eN))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}]);